@extends("base")

@section('sidebar')
	@parent

@endsection

@section('content')

	<div class="box box-info">
		<div class="box-header with-border">
			<h3 class="box-title">Employee Profile</h3>

			<div class="box-tools">

			</div><!-- /.box-tools -->
		</div><!-- /.box-header -->

		<div class="box-body">
			<table class="table" id="employee_table" cellspacing="0">
				<thead>
				<tr>
					<th>EMP ID</th>
					<th>EMP NAME</th>
					<th>F H NAME</th>
					<th>CURRENT DESIGNATION</th>
					<th>CURRENT BS</th>
					<th>JOB STATUS</th>
					<th>DOB</th>
					<th>GENDER</th>
					<th>CNIC</th>
					<th>DOMICILE</th>
					<th>HOME DISTRICT</th>
					<th>RELIGION</th>
					<th>MARITAL STATUS</th>
					<th>DUAL NATIONALITY</th>
					<th>HIGHEST QUALIFICATION</th>
					<th>REF FILE NO</th>
					<th>OFF PHONE NO</th>
					<th>OFF EXT NO</th>
					<th>RES PHONE NO</th>
					<th>MOBILE NO</th>
					<th>PERMENENT ADDRESS</th>
					<th>FP ID</th>
					<th>APPOINTMENT POST</th>
					<th>APPOINTMENT BS</th>
					<th>DATE OF APPOINTMENT</th>
					<th>TYPE OF APPOINTMENT</th>
					<th>APPOINTMENT QUOTA</th>
					<th>SERVICE TYPE</th>
					<th>THROUGH ADVER</th>
					<th>TOTAL CONTRACT EXT</th>
					<th>TOTAL EXT DURATION</th>
					<th>WORKING POST</th>
					<th>WORKING BS</th>
					<th>STATION STATUS</th>
					<th>POSTING STATUS</th>
					<th>JOINING DATE</th>
					<th>RELIEVING DATE</th>
					<th>POSTING DATE</th>
					<th>POSTING TENURE</th>
					<th>TRANSFER DATE</th>
					<th>TRANSFER TENURE</th>
					<th>TOTAL POSTING</th>
					<th>TOTAL TRANSFER</th>
					<th>ORDER ID</th>
					<th>REPORTING OFF ID</th>
					<th>REPORTING OFFICER</th>
					<th>REMARKS</th>
					<th>CARRIER STATUS</th>
					<th>SECTION ID</th>
					<th>ZONE TITLE</th>
					<th>REGION NAME</th>
					<th>PLACE TITLE</th>
					<th>PLACE TYPE</th>
					<th>PACKAGE ID</th>
					<th>PACKAGE NAME</th>
					<th>WING NAME</th>
					<th>SECTION NAME</th>
					<th>WING HEAD</th>
					<th>P CHARGE ID</th>
					<th>CHARGE INFO</th>
					<th>CARRIER ID</th>
					<th>SANCTION ID</th>
					<th>ACR TOTAL</th>
					<th>ACR SUBMITTIED</th>
					<th>ACR REMAINING</th>
					<th>ASSET TOTAL</th>
					<th>ASSET SUBMITTIED</th>
					<th>ASSET REMAINING</th>
					<th>TOTAL REWARD</th>
					<th>TOTAL DEPENDENTS</th>
					<th>TOTAL PANELTIES</th>
					<th>TOTAL TRAINING</th>
				</tr>
				</thead>

				<thead class="multi_search">
				<tr>
					<th>EMP ID</th>
					<th>EMP NAME</th>
					<th>F H NAME</th>
					<th>CURRENT DESIGNATION</th>
					<th>CURRENT BS</th>
					<th>JOB STATUS</th>
					<th>DOB</th>
					<th>GENDER</th>
					<th>CNIC</th>
					<th>DOMICILE</th>
					<th>HOME DISTRICT</th>
					<th>RELIGION</th>
					<th>MARITAL STATUS</th>
					<th>DUAL NATIONALITY</th>
					<th>HIGHEST QUALIFICATION</th>
					<th>REF FILE NO</th>
					<th>OFF PHONE NO</th>
					<th>OFF EXT NO</th>
					<th>RES PHONE NO</th>
					<th>MOBILE NO</th>
					<th>PERMENENT ADDRESS</th>
					<th>FP ID</th>
					<th>APPOINTMENT POST</th>
					<th>APPOINTMENT BS</th>
					<th>DATE OF APPOINTMENT</th>
					<th>TYPE OF APPOINTMENT</th>
					<th>APPOINTMENT QUOTA</th>
					<th>SERVICE TYPE</th>
					<th>THROUGH ADVER</th>
					<th>TOTAL CONTRACT EXT</th>
					<th>TOTAL EXT DURATION</th>
					<th>WORKING POST</th>
					<th>WORKING BS</th>
					<th>STATION STATUS</th>
					<th>POSTING STATUS</th>
					<th>JOINING DATE</th>
					<th>RELIEVING DATE</th>
					<th>POSTING DATE</th>
					<th>POSTING TENURE</th>
					<th>TRANSFER DATE</th>
					<th>TRANSFER TENURE</th>
					<th>TOTAL POSTING</th>
					<th>TOTAL TRANSFER</th>
					<th>ORDER ID</th>
					<th>REPORTING OFF ID</th>
					<th>REPORTING OFFICER</th>
					<th>REMARKS</th>
					<th>CARRIER STATUS</th>
					<th>SECTION ID</th>
					<th>ZONE TITLE</th>
					<th>REGION NAME</th>
					<th>PLACE TITLE</th>
					<th>PLACE TYPE</th>
					<th>PACKAGE ID</th>
					<th>PACKAGE NAME</th>
					<th>WING NAME</th>
					<th>SECTION NAME</th>
					<th>WING HEAD</th>
					<th>P CHARGE ID</th>
					<th>CHARGE INFO</th>
					<th>CARRIER ID</th>
					<th>SANCTION ID</th>
					<th>ACR TOTAL</th>
					<th>ACR SUBMITTIED</th>
					<th>ACR REMAINING</th>
					<th>ASSET TOTAL</th>
					<th>ASSET SUBMITTIED</th>
					<th>ASSET REMAINING</th>
					<th>TOTAL REWARD</th>
					<th>TOTAL DEPENDENTS</th>
					<th>TOTAL PANELTIES</th>
					<th>TOTAL TRAINING</th>
				</tr>
				</thead>

			</table>
		</div><!-- /.box-body -->

	</div><!-- /.box -->

	{!! Html::style('https://cdn.datatables.net/buttons/1.1.0/css/buttons.dataTables.min.css') !!}

	<style>
		div.dataTables_wrapper {
			width: 100% !important;
			margin: 0 auto;
		}
	</style>

@section('js')

	$('#employee_table thead th').each( function () {
	var title = $(this).text();

	if(title == 'ID')
	$(this).html( '<div style="width:60px">'+title+'</div>' );
	else
	$(this).html( '<div style="width:155px">'+title+'</div>' );
	} );

	// Setup - add a text input to each header cell
	$('#employee_table thead.multi_search th').each( function () {
	var title = $(this).text();
	var css;

	if(title == 'ID') css = 'style="width:60px;"';
	if(title == 'Action') return;
	if(title == 'Profile Picture') return;
	$(this).html( '<input type="text" placeholder="Search '+title+'" '+css+'/>' );
	} );

	var table = $('#employee_table').DataTable({

	processing: true,
	serverSide: true,
	scrollX: true,
	scrollXInner: '100%',
	scrollCollapse: true,
	lengthMenu: [[10, 25, 50, -1], [10, 25, 50, "All"]],
	// to export data
	dom: 'lrtipB',
	buttons: [

	'copy', 'csv', 'excel', 'pdf', 'print'

	],
	ajax: '{{ url("report/employee_profile_data") }}',
	columns: [
	null,
	null,
	null,
	null,
	null,
	null,
	{
	type: 'date',
	render: function(data) {
	if(data) {
	var tmp = data.split(' ');
	var date = new Date(tmp[0]);
	var year = date.getFullYear().toString();
	var month = (date.getMonth()+1).toString(); // getMonth() is zero-based
	var day  = date.getDate().toString();
	return (day[1]?day:"0"+day[0]) + '/' + (month[1]?month:"0"+month[0]) + '/' + year; // padding
	}
	else
	return data;
	},
	},
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	{
	type: 'date',
	render: function(data) {
	if(data) {
	var tmp = data.split(' ');
	var date = new Date(tmp[0]);
	var year = date.getFullYear().toString();
	var month = (date.getMonth()+1).toString(); // getMonth() is zero-based
	var day  = date.getDate().toString();
	return (day[1]?day:"0"+day[0]) + '/' + (month[1]?month:"0"+month[0]) + '/' + year; // padding
	}
	else
	return data;
	},
	},
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	{
	type: 'date',
	render: function(data) {
	if(data) {
	var tmp = data.split(' ');
	var date = new Date(tmp[0]);
	var year = date.getFullYear().toString();
	var month = (date.getMonth()+1).toString(); // getMonth() is zero-based
	var day  = date.getDate().toString();
	return (day[1]?day:"0"+day[0]) + '/' + (month[1]?month:"0"+month[0]) + '/' + year; // padding
	}
	else
	return data;
	},
	},
	{
	type: 'date',
	render: function(data) {
	if(data) {
	var tmp = data.split(' ');
	var date = new Date(tmp[0]);
	var year = date.getFullYear().toString();
	var month = (date.getMonth()+1).toString(); // getMonth() is zero-based
	var day  = date.getDate().toString();
	return (day[1]?day:"0"+day[0]) + '/' + (month[1]?month:"0"+month[0]) + '/' + year; // padding
	}
	else
	return data;
	},
	},
	{
	type: 'date',
	render: function(data) {
	if(data) {
	var tmp = data.split(' ');
	var date = new Date(tmp[0]);
	var year = date.getFullYear().toString();
	var month = (date.getMonth()+1).toString(); // getMonth() is zero-based
	var day  = date.getDate().toString();
	return (day[1]?day:"0"+day[0]) + '/' + (month[1]?month:"0"+month[0]) + '/' + year; // padding
	}
	else
	return data;
	},
	},
	null,
	{
	type: 'date',
	render: function(data) {
	if(data) {
	var tmp = data.split(' ');
	var date = new Date(tmp[0]);
	var year = date.getFullYear().toString();
	var month = (date.getMonth()+1).toString(); // getMonth() is zero-based
	var day  = date.getDate().toString();
	return (day[1]?day:"0"+day[0]) + '/' + (month[1]?month:"0"+month[0]) + '/' + year; // padding
	}
	else
	return data;
	},
	},
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null,
	null
	]
	});

	/* Apply the search for individual columns*/
	table.columns().every( function () {

	var that = this;

	$( 'input', this.footer() ).on( 'keydown', function (ev) {

	if (ev.keyCode == 13) { //only on enter keypress (code 13)

	that
	.column( $(this).parent().index()+':visible')
	.search( this.value )
	.draw();
	}
	});
	});

@endsection

{!! Html::script("https://code.jquery.com/jquery-1.11.3.min.js") !!}
{!! Html::script("https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js") !!}
{!! Html::script("https://cdn.datatables.net/buttons/1.1.0/js/dataTables.buttons.min.js") !!}
{!! Html::script("https://cdn.datatables.net/buttons/1.1.0/js/buttons.flash.min.js") !!}
{!! Html::script("https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js") !!}
{!! Html::script("https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js") !!}
{!! Html::script("https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js") !!}
{!! Html::script("https://cdn.datatables.net/buttons/1.1.0/js/buttons.html5.min.js") !!}
{!! Html::script("https://cdn.datatables.net/buttons/1.1.0/js/buttons.print.min.js") !!}

@stop