@extends("base")

@section('sidebar')
    @parent
    <h1>Edit Book</h1>
@endsection

@section('content')
    <div class="box box-primary">
        <div class="box-header">
            <h4>Edit Book</h4>

            @if(!empty($errors->all()) or !empty(Session::get('error')))
                <div class="alert alert-danger" role="alert">
                    {{Session::get('error')}}
                    <ul>
                        @foreach($errors->all() as $error)
                            <li>{{ $error }}</li>
                        @endforeach
                    </ul>
                </div>
            @endif

            @if(!empty(Session::get('success')))
                <div class="alert alert-success" role="alter">
                    {{Session::get('success')}}
                </div>
            @endif

        </div>
        <div class="box-body">

            {!! Form::open(array('url'=>'books/' . $data->book_id,'method' => 'PUT', 'class' => 'form-horizontal', 'files'=>true))!!}

            <div class="form-group">
                <label class="col-xs-2 control-label">Book Title</label>
                <div class="col-xs-10">
                    {!! Form::text('book_title', $data->book_title, array('class' => 'form-control input-sm', 'id' => 'book_title')) !!}
                </div>
            </div>

            <div class="form-group">
                <label class="col-xs-2 control-label">Author 1</label>
                <div class="col-xs-4">
                    {!! Form::text('auther_1', $data->auther_1, array('class' => 'form-control input-sm')) !!}
                </div>

                <label class="col-xs-2 control-label">Author 2</label>
                <div class="col-xs-4">
                    {!! Form::text('auther_2', $data->auther_2, array('class' => 'form-control input-sm')) !!}
                </div>
            </div>

            <div class="form-group">
                <label class="col-xs-2 control-label">Receive Date</label>
                <div class="col-xs-4">
                    {!! Form::text('rec_date', ($data->rec_date) ? date('d-m-Y', strtotime($data->rec_date)) : null, array('class' => 'form-control input-sm dateMask', 'placeholder' => 'dd-mm-yyyy', 'data-inputmask' => "'alias': 'dd-mm-yyyy'")) !!}
                </div>
                <label class="col-xs-2 control-label">Publish Date</label>
                <div class="col-xs-4">
                    {!! Form::text('publish_date', ($data->publish_date) ? date('d-m-Y', strtotime($data->publish_date)) : null, array('class' => 'form-control input-sm dateMask', 'placeholder' => 'dd-mm-yyyy', 'data-inputmask' => "'alias': 'dd-mm-yyyy'")) !!}
                </div>
            </div>
            <div class="form-group">
                <label class="col-xs-2 control-label">Bill No</label>
                <div class="col-xs-4">
                    {!! Form::text('bill_no', $data->bill_no, array('class' => 'form-control input-sm')) !!}
                </div>
                <label class="col-xs-2 control-label">Purchase Date</label>
                <div class="col-xs-4">
                    {!! Form::text('purchase_date', ($data->purchase_date) ? date('d-m-Y', strtotime($data->purchase_date)) : null, array('class' => 'form-control input-sm dateMask', 'placeholder' => 'dd-mm-yyyy', 'data-inputmask' => "'alias': 'dd-mm-yyyy'")) !!}
                </div>
            </div>

            <div class="form-group">
                <label class="col-xs-2 control-label">Cost (Rs.)</label>
                <div class="col-xs-4">
                    {!! Form::text('cost', $data->cost, array('class' => 'form-control input-sm')) !!}
                </div>
                <label class="col-xs-2 control-label">Source Name</label>
                <div class="col-xs-4">
                    {!! Form::text('source_name', $data->source_name, array('class' => 'form-control input-sm')) !!}
                </div>
            </div>

            <div class="form-group">
                <label class="col-xs-2 control-label">Place Name</label>
                <div class="col-xs-4">
                    {!! Form::text('place_name', $data->place_name, array('class' => 'form-control input-sm')) !!}
                </div>
                <label class="col-xs-2 control-label">Publisher Name</label>
                <div class="col-xs-4">
                    {!! Form::text('publisher_name', $data->publisher_name, array('class' => 'form-control input-sm')) !!}
                </div>
            </div>

            <div class="form-group">
                <label class="col-xs-2 control-label">Subcategory</label>
                <div class="col-xs-4">
                    {!! Form::select('sc_id', $subcategories, $data->sc_id, array('class' => 'form-control input-sm')) !!}
                </div>
                <label class="col-xs-2 control-label">E-Document</label>
                <div class="col-xs-4">
                    {!! Form::file('edoc', null) !!}
                </div>
            </div>

            <button type="submit" class="btn btn-primary pull-right">Update</button>
            {!! Form::close()!!}
        </div>
    </div>

@stop