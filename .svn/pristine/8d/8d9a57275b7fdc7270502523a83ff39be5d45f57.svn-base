@extends("base")

@section('sidebar')
@parent

@endsection

@section('content')

		  <!-- Default box -->
          <h3 class="box-title text-blue">Employee Detail:</h3>

			@if(!empty($errors->all()) or !empty(Session::get('error')))
				<div class="alert alert-danger" role="alert">
					{{Session::get('error')}}
					<ul>
						@foreach($errors->all() as $error)
							<li>{{ $error }}</li>
						@endforeach
					</ul>
				</div>
			@endif

			@if(!empty(Session::get('success')))
				<div class="alert alert-success" role="alter">
					{{Session::get('success')}}
				</div>
			@endif

		  {!! Form::open(array('url' => 'employees/employee_detail', 'class'=>'form-horizontal')) !!}
		  
		<div class="box box-primary">
		   <div class="box-header with-border">
			<h3 class="box-title">Enter Employee CNIC & Password</h3>
		   </div><!-- /.box-header -->
            <div class="box-body">
				<div class="form-group">
					{!! Form::label('cnic', 'Employee CNIC:', ['class' => 'col-sm-2 control-label']) !!}
					<div class="col-sm-4">
					{!! Form::text('cnic', null, ['class' => 'form-control', 'placeholder' => 'Enter Employee CNIC', 'onkeypress' => 'return onlyCNIC($(this), event)']) !!}
					</div><!-- /.col-sm-7 -->
				</div><!-- /.form-group -->
				
				<div class="form-group">
					{!! Form::label('password', 'Password:', ['class' => 'col-sm-2 control-label']) !!}
					<div class="col-sm-4">
					{!! Form::password('password', ['class' => 'form-control', 'placeholder' => 'Enter Password']) !!}
					<p style="color:#ccc;">* Default password is demo123</p>
					</div><!-- /.col-sm-7 -->
				</div><!-- /.form-group -->				  
		  </div><!-- /.box-body -->

		  <div class="box-footer">
			<div class="col-md-6 text-right">
				<input class="btn btn-primary" type="submit" name="submit" value="Submit" />
			</div><!-- /.col-md-6 -->
		  </div><!-- /.box-footer -->
		  
		</div><!-- /.box-primary -->
		
			
		{!! Form::close() !!}

	@section('js')

		//// function to validate cnic
		function onlyCNIC(obj, evt) {

		obj.on('paste', function(e){
		/// v variable have paste value
		//var v = e.originalEvent.clipboardData.getData('Text');
		return false;
		obj.val('');
		});

		var charCode = (evt.which) ? evt.which : event.keyCode;

		if(obj.val().length < 15)
		{
		if(onlyDigits(charCode))
		{
		if(obj.val().length == 5 || obj.val().length == 13)
		obj.val(obj.val()+'-');
		}
		else
		return false;
		}
		else
		return false;
		}


		//// only digits function
		function onlyDigits(charCode)
		{

		if(charCode > 31 && (charCode < 48 || charCode > 57)) {
		return false;
		}
		else
		{
		return true;
		}
		}
	@endsection
@stop